<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Function and documentation for Inclusive Mobility guide (2021) • openinfra</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Function and documentation for Inclusive Mobility guide (2021)">
<meta property="og:description" content="openinfra">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">openinfra</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/openinfra.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/QGIS_OSM_Setup.html">Getting and using OSM data with GUI QGIS</a>
    </li>
    <li>
      <a href="../articles/SOTM_workshop.html">SOTM 2022 Workshop - OSM for sustainable transport planning: getting started</a>
    </li>
    <li>
      <a href="../articles/data_packs.html">Transport Infrastructure Data Packs</a>
    </li>
    <li>
      <a href="../articles/getosm.html">Getting and using OSM data with the R package osmextract</a>
    </li>
    <li>
      <a href="../articles/im_get.html">Function and documentation for Inclusive Mobility guide (2021)</a>
    </li>
    <li>
      <a href="../articles/osm-python.html">Getting and using osm data in Python</a>
    </li>
    <li>
      <a href="../articles/package_networks.html">Network definitions (pre-defined networks) by OSM data package</a>
    </li>
    <li>
      <a href="../articles/regions.html">Transport regions in the UK</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/udsleeds/openinfra/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Function and documentation for Inclusive Mobility guide (2021)</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/udsleeds/openinfra/blob/HEAD/vignettes/im_get.Rmd" class="external-link"><code>vignettes/im_get.Rmd</code></a></small>
      <div class="hidden name"><code>im_get.Rmd</code></div>

    </div>

    
    
<p>The purpose of the <code>inclusive_mobility_get</code> function is to recategorize OSM data based on the recent Inclusive Mobility (IM) guide UK. The goal behind this is to encourage the use of crowd-sourced open data in the inclusive infrastructure planning. Indeed, the function has been written to encourage discussions around the applicability of open data and act as a starting point.</p>
<p>It has to be noted that this function is a simplification of all the requirements outlined in the guide. There are a couple of reasons for this. First, while there is a large number of tags in OSM to create detailed maps, but the values imputed are not always IM guide-friendly. For example, in the guide 6 different types of tactile paving are outlined, yet those types are not key values in the OSM as it focused on the presence/absence of tactile paving. This, then, leads not only to the fact that not all OSM data can be sensibly recategorized based on the IM guide but also that it is highly unlikely that a single function could capture the detailed specifications outlined in the IM guide.</p>
<div class="section level2">
<h2 id="get-osm">get osm<a class="anchor" aria-label="anchor" href="#get-osm"></a>
</h2>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># libraries</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/osmextract/" class="external-link">osmextract</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># region_wy = "West Yorkshire"</span></span>
<span><span class="co"># tags_needed = c("cycleway",</span></span>
<span><span class="co">#                 "bicycle",</span></span>
<span><span class="co">#                 "wheelchair",</span></span>
<span><span class="co">#                 "kerb",</span></span>
<span><span class="co">#                 "disabled",</span></span>
<span><span class="co">#                 "mobility_scooter",</span></span>
<span><span class="co">#                 "handicap",</span></span>
<span><span class="co">#                 "foot",</span></span>
<span><span class="co">#                 "lit", </span></span>
<span><span class="co">#                 "access",</span></span>
<span><span class="co">#                 "sidewalk",</span></span>
<span><span class="co">#                 "footway",</span></span>
<span><span class="co">#                 "incline",</span></span>
<span><span class="co">#                 "smoothness",</span></span>
<span><span class="co">#                 "est_width",</span></span>
<span><span class="co">#                 "width",</span></span>
<span><span class="co">#                 "ramp",</span></span>
<span><span class="co">#                 "sidewalk_left",</span></span>
<span><span class="co">#                 "sidewalk_right",</span></span>
<span><span class="co">#                 "ramp_wheelchair",</span></span>
<span><span class="co">#                 "footway_left",</span></span>
<span><span class="co">#                 "footway_right",</span></span>
<span><span class="co">#                 "footway_surface",</span></span>
<span><span class="co">#                 "priority",</span></span>
<span><span class="co">#                 "sidewalk_both_surface",</span></span>
<span><span class="co">#                 "sidewalk_both_width",</span></span>
<span><span class="co">#                 "path",</span></span>
<span><span class="co">#                 "pedestrian",</span></span>
<span><span class="co">#                 "sidewalk_left_width",</span></span>
<span><span class="co">#                 "sidewalk_right_width",</span></span>
<span><span class="co">#                 "sidewalk_right_surface",</span></span>
<span><span class="co">#                 "sidewalk_left_surface",</span></span>
<span><span class="co">#                 "maxspeed",</span></span>
<span><span class="co">#                 "segregated",</span></span>
<span><span class="co">#                 "sloped_curb",</span></span>
<span><span class="co">#                 "surface",</span></span>
<span><span class="co">#                 "tactile_paving",</span></span>
<span><span class="co">#                 "crossing"</span></span>
<span><span class="co">#                 )</span></span>
<span><span class="co"># wy_lines = osmextract::oe_get(</span></span>
<span><span class="co">#   place = region_wy,</span></span>
<span><span class="co">#   force_download = TRUE,</span></span>
<span><span class="co">#   force_vectortranslate = TRUE,</span></span>
<span><span class="co">#   extra_tags = tags_needed</span></span>
<span><span class="co"># )</span></span>
<span></span>
<span><span class="co"># saveRDS(wy_lines,</span></span>
<span><span class="co">#         "wy_lines_21-03-2022.RDS")</span></span>
<span></span>
<span><span class="va">wy_lines</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></span><span class="op">(</span><span class="st">"https://github.com/udsleeds/openinfra/releases/download/v0.1/wy_lines_21-03-2022.RDS"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># wy_points = osmextract::oe_get(</span></span>
<span><span class="co">#   place = region_wy,</span></span>
<span><span class="co">#   layer = "points",</span></span>
<span><span class="co">#   force_download = TRUE,</span></span>
<span><span class="co">#   force_vectortranslate = TRUE,</span></span>
<span><span class="co">#   extra_tags = tags_needed</span></span>
<span><span class="co"># )</span></span>
<span></span>
<span><span class="co"># saveRDS(wy_points,</span></span>
<span><span class="co">#         "wy_points_21-03-2022.RDS")</span></span>
<span></span>
<span><span class="va">wy_points</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html" class="external-link">readRDS</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/connections.html" class="external-link">url</a></span><span class="op">(</span><span class="st">"https://github.com/udsleeds/openinfra/releases/download/v0.1/wy_points_21-03-2022.RDS"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># osm_query = "SELECT * FROM 'lines', 'points'"</span></span>
<span><span class="co"># </span></span>
<span><span class="co"># wy_points_lanes = osmextract::oe_get(</span></span>
<span><span class="co">#   place = region_wy,</span></span>
<span><span class="co">#   force_download = TRUE,</span></span>
<span><span class="co">#   force_vectortranslate = TRUE,</span></span>
<span><span class="co">#   extra_tags = tags_needed,</span></span>
<span><span class="co">#   query = osm_query</span></span>
<span><span class="co"># )</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># join points and lines into one df</span></span>
<span></span>
<span><span class="co"># homogenizing columns</span></span>
<span><span class="co"># names_lines = wy_lines %&gt;% names </span></span>
<span><span class="co"># names_points = wy_points %&gt;% names</span></span>
<span><span class="co"># setdiff(names_lines, names_points)</span></span>
<span><span class="co"># setdiff(names_points, names_lines)</span></span>
<span></span>
<span><span class="va">wy_lines_short</span> <span class="op">=</span> <span class="va">wy_lines</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"waterway"</span>,  <span class="st">"aerialway"</span>, <span class="st">"z_order"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">wy_points_short</span> <span class="op">=</span> <span class="va">wy_points</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"ref"</span>, <span class="st">"address"</span>, <span class="st">"is_in"</span>, <span class="st">"place"</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">wy_joined</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">wy_lines_short</span>, <span class="va">wy_points_short</span><span class="op">)</span></span></code></pre></div>
<div class="section level3">
<h3 id="function">Function<a class="anchor" aria-label="anchor" href="#function"></a>
</h3>
<p>There are two requirements for a function:</p>
<ol style="list-style-type: decimal">
<li>it must be an <code>sf</code> (simple features) object. It can easily be obtained using <code>osmextract</code> package</li>
<li>it needs to have <em>all</em> the tags needed for recategorization, otherwise an error will be given.</li>
</ol>
<p>The following tags are used: highway, kerb, footway, path, cycleway, sidewalk, foot, segregated, access, crossing, lit, maxspeed, tactile_paving, surface, width, est_width.</p>
<p>To learn how to get extra tags, see lines 20-94 of this notebook or <a href="https://udsleeds.github.io/openinfra/articles/getosm.html" class="external-link">this vignette</a>.</p>
<p>Finally, it is important to highlight what this function does not do:</p>
<ul>
<li>it does not pre-define a walking/cycling/wheeling network. You can do this manually or rely on, for example, <code>osmextract</code> to download a pre-defined waking or cycling network</li>
<li>it does not provide a ground truth evaluation of OSM data. It is important to stay critical of the data and what is being returned (e.g., a negative OSM width value should be suspicious)</li>
</ul>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">inclusive_mobility_get</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">osm_sf</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">osm_sf_im</span> <span class="op">=</span> <span class="va">osm_sf</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># kerb: flush or not</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_kerb <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/if_else.html" class="external-link">if_else</a></span><span class="op">(</span><span class="va">kerb</span> <span class="op">==</span> <span class="st">"flush"</span> <span class="op">|</span> <span class="va">kerb</span> <span class="op">==</span> <span class="st">"no"</span>, <span class="st">"flush"</span>, <span class="st">"other"</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># footway is a ‘pavement’ adjacent to a road</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_footway <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>        <span class="va">footway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"right"</span>, <span class="st">"both"</span>, <span class="st">"sidewalk"</span><span class="op">)</span> <span class="op">|</span></span>
<span>        <span class="va">sidewalk</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"left"</span>, <span class="st">"right"</span>, <span class="st">"both"</span>, <span class="st">"yes"</span>, <span class="st">"separate"</span><span class="op">)</span> <span class="op">|</span></span>
<span>          <span class="co"># trying to capture footways shared with cyclists</span></span>
<span>          <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">cycleway</span><span class="op">)</span> <span class="op">&amp;</span> <span class="co"># map cycling infrastructure that is an inherent part of the road</span></span>
<span>          <span class="va">foot</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"yes"</span>, <span class="st">"designated"</span><span class="op">)</span> <span class="op">|</span></span>
<span>          <span class="va">segregated</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"yes"</span></span>
<span>      <span class="op">~</span> <span class="st">"yes"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"no"</span> </span>
<span>    <span class="op">)</span> </span>
<span>    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>  <span class="co"># footpath is any other right of way for pedestrians, that does not run adjacent to a road.</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_footpath <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>    <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"footway"</span> <span class="op">&amp;</span> </span>
<span>      <span class="va">im_footway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"no"</span> <span class="op">|</span> </span>
<span>      <span class="co"># not (always) an inherent part of the road</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cycleway"</span>, <span class="st">"bridleway"</span>, <span class="st">"path"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="co"># foot = "designated" is implied</span></span>
<span>      <span class="va">im_footway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"no"</span> <span class="op">&amp;</span></span>
<span>      <span class="op">!</span> <span class="va">foot</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"private"</span><span class="op">)</span> <span class="op">|</span> </span>
<span>      <span class="op">!</span> <span class="va">access</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"private"</span><span class="op">)</span> <span class="op">&amp;</span></span>
<span>      <span class="va">segregated</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"no"</span> <span class="co"># shared space</span></span>
<span>    <span class="op">~</span> <span class="st">"yes"</span>,</span>
<span>    <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"no"</span></span>
<span>    <span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="co"># presence of a crossing: give-way, signal controlled, none, or yes (but the type is unknown)</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_crossing <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">crossing</span>, <span class="st">"zebra|uncontr|marked"</span><span class="op">)</span><span class="op">~</span> <span class="st">"give-way"</span>,</span>
<span>      <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">crossing</span>, <span class="st">"toucan|pedex|puffin|equestrian|light|signal"</span><span class="op">)</span><span class="op">~</span> <span class="st">"signal-controlled"</span>,</span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"crossing"</span> <span class="op">|</span> <span class="va">footway</span>  <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"crossing"</span> <span class="op">|</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">crossing</span><span class="op">)</span> <span class="op">~</span> <span class="st">"yes"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"no"</span></span>
<span>      <span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># implied footways but there's a lack of data to verify</span></span>
<span>   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_footway_imp <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">im_footway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"no"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">im_footpath</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"no"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">im_crossing</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"no"</span></span>
<span>      <span class="op">~</span> <span class="st">"yes"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"no"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># lighting: yes or no</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_light <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span> </span>
<span>      <span class="co"># highway %in% "street_lamp" |</span></span>
<span>        <span class="op">!</span> <span class="va">lit</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"disused"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">lit</span><span class="op">)</span></span>
<span>      <span class="op">~</span> <span class="st">"yes"</span>,</span>
<span>      <span class="cn">TRUE</span> <span class="op">~</span> <span class="st">"no"</span></span>
<span>      <span class="op">)</span></span>
<span>      <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># recategorize speed</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_maxspeed <span class="op">=</span> <span class="va">maxspeed</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>      <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_number.html" class="external-link">parse_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>      im_maxspeed <span class="op">=</span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>          <span class="va">im_maxspeed</span> <span class="op">&gt;</span> <span class="fl">1</span> <span class="op">&amp;</span> <span class="va">im_maxspeed</span> <span class="op">&lt;=</span> <span class="fl">20</span> <span class="op">~</span> <span class="st">"1-20"</span>, <span class="co"># up to 20 mph</span></span>
<span>          <span class="va">im_maxspeed</span> <span class="op">&gt;</span> <span class="fl">20</span> <span class="op">&amp;</span> <span class="va">im_maxspeed</span> <span class="op">&lt;=</span> <span class="fl">40</span> <span class="op">~</span> <span class="st">"21-40"</span>, <span class="co"># 21 - 40 mph</span></span>
<span>          <span class="va">im_maxspeed</span> <span class="op">&gt;</span> <span class="fl">40</span> <span class="op">&amp;</span> <span class="va">im_maxspeed</span> <span class="op">&lt;=</span> <span class="fl">60</span> <span class="op">~</span> <span class="st">"41-60"</span>, <span class="co"># 41 - 60 mph</span></span>
<span>          <span class="va">im_maxspeed</span> <span class="op">&gt;</span> <span class="fl">60</span> <span class="op">~</span> <span class="st">"61"</span> <span class="co"># over 60 mph</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># tactile paving: yes, no</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_tactile <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="op">!</span> <span class="va">tactile_paving</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"no"</span>, <span class="st">"incorrect"</span>, <span class="st">"bad"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="op">!</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">tactile_paving</span><span class="op">)</span> </span>
<span>      <span class="op">~</span> <span class="st">"yes"</span>,</span>
<span>      <span class="op">!</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">tactile_paving</span><span class="op">)</span></span>
<span>      <span class="op">~</span> <span class="st">"no"</span></span>
<span>      <span class="op">)</span></span>
<span>      <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># surface: paved, unpaved, or other</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>      im_surface_paved <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>        <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"cycleway"</span></span>
<span>        <span class="op">~</span> <span class="st">"paved"</span>,</span>
<span></span>
<span>          <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">surface</span>,</span>
<span>                              <span class="st">"pav|asph|chipseal|concrete|paving|sett|cobble|metal|wood|stepping"</span><span class="op">)</span></span>
<span>        <span class="op">~</span> <span class="st">"paved"</span>,</span>
<span>        <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"footway"</span>, <span class="st">"bridleway"</span><span class="op">)</span> <span class="op">&amp;</span> <span class="co"># highway = footway implied surface value is unpaved</span></span>
<span>          <span class="op">!</span> <span class="va">surface</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">surface</span>, <span class="st">"pav|asph|chipseal|concrete|paving|sett|cobble|metal|wood|stepping"</span><span class="op">)</span></span>
<span>        <span class="op">~</span> <span class="st">"unpaved"</span>,</span>
<span>        <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">surface</span>, <span class="st">"unpav|compact|gravel|rock|pebble|ground|dirt|grass|mud|sand|woodchips|snow|ice|salt"</span><span class="op">)</span></span>
<span>        <span class="op">~</span> <span class="st">"unpaved"</span>,</span>
<span>        <span class="cn">TRUE</span> <span class="op">&amp;</span> <span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">surface</span><span class="op">)</span> <span class="op">~</span> <span class="st">"other"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># surface: even  or not</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>im_surface <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">surface</span>, <span class="st">"asph|concrete"</span><span class="op">)</span></span>
<span>      <span class="op">~</span> <span class="st">"even"</span>,</span>
<span>      </span>
<span>      <span class="va">im_surface_paved</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="st">"paved"</span> <span class="op">&amp;</span></span>
<span>        <span class="va">smoothness</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"excellent"</span>, <span class="st">"good"</span><span class="op">)</span></span>
<span>      <span class="op">~</span> <span class="st">"even"</span>,</span>
<span>      <span class="op">!</span> <span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">im_surface_paved</span><span class="op">)</span> </span>
<span>      <span class="op">~</span> <span class="st">"uneven"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># width: under 1.5 meters, 1.5-2 meters, or over 2 meters</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    im_width <span class="op">=</span>  <span class="va">width</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>      <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_number.html" class="external-link">parse_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    im_width <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">im_width</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">im_width</span> <span class="op">&lt;</span> <span class="fl">1.5</span> <span class="op">~</span> <span class="st">" 1.5"</span>,</span>
<span>      <span class="va">im_width</span> <span class="op">&lt;=</span> <span class="fl">1.5</span> <span class="op">&amp;</span> <span class="va">im_width</span> <span class="op">&lt;=</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"1.5 - 2"</span>,</span>
<span>      <span class="va">im_width</span> <span class="op">&gt;</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"2"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>    <span class="co"># estimated width: under 1.5 meters, 1.5-2 meters, or over 2 meters</span></span>
<span>  <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    im_width_est <span class="op">=</span> <span class="va">est_width</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>      <span class="fu"><a href="https://readr.tidyverse.org/reference/parse_number.html" class="external-link">parse_number</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    im_width_est <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">im_width_est</span> <span class="op">&gt;</span> <span class="fl">0</span> <span class="op">&amp;</span> <span class="va">im_width_est</span> <span class="op">&lt;</span> <span class="fl">1.5</span> <span class="op">~</span> <span class="st">" 1.5"</span>,</span>
<span>      <span class="va">im_width_est</span> <span class="op">&lt;=</span> <span class="fl">1.5</span> <span class="op">&amp;</span> <span class="va">im_width_est</span> <span class="op">&lt;=</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"1.5 - 2"</span>,</span>
<span>      <span class="va">im_width_est</span> <span class="op">&gt;</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"2"</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="justification">Justification<a class="anchor" aria-label="anchor" href="#justification"></a>
</h2>
<div class="section level3">
<h3 id="footways">Footways<a class="anchor" aria-label="anchor" href="#footways"></a>
</h3>
<p><em>Inclusive mobility</em>: pavements adjacent to roads</p>
<p><em>OSM</em>:</p>
<ul>
<li>Highway = footway: used for mapping minor pathways which are used mainly or exclusively by pedestrians.
<ul>
<li>If the footway is associated with a road then add a footway=sidewalk tag. ○ <a href="https://wiki.openstreetmap.org/wiki/Tag:highway%3Dfootway" class="external-link uri">https://wiki.openstreetmap.org/wiki/Tag:highway%3Dfootway</a>
</li>
</ul>
</li>
<li>Add the cycleway=* tag to a highway=* to map cycling infrastructure that is an inherent part of the road. —&gt; If it’s part of the road and it’s permitted to walk/wheel on, then it’s a sidewalk as there’s an implication for the sidewalk running next to the carriageway</li>
<li>The highway=cycleway tag indicates a separate way for the use of cyclists. —&gt; is not clear if highway=cycleway goes adjacent to roads</li>
<li>There are two main ways of mapping footways, cycleways, and bridleways in the UK —&gt; see <a href="https://wiki.openstreetmap.org/wiki/Classic_vs_Alternative_tagging_schemes_in_use_in_the_United_Kingdom" class="external-link uri">https://wiki.openstreetmap.org/wiki/Classic_vs_Alternative_tagging_schemes_in_use_in_the_United_Kingdom</a>
</li>
<li>Segregated might be used to indicate shared space
<ul>
<li>
<a href="https://wiki.openstreetmap.org/wiki/Key:sidewalk" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:sidewalk</a> In such cases — where the footway is considered an integral part of the combined foot- and cycleway — sidewalk=* tends to be omitted in favour of segregated=yes</li>
</ul>
</li>
</ul>
<p><em>Hence</em>, it can be assumed key:footway and key:sidewalk are associated with the footways going adjacent to the road. Also, given that key:cycleway is supposed to be an inherent part of the road, then it should go adjacent to the road, which implies that if one can wheel/walk on it, then it’s a footway too. Moreover, key:segregated might be used instead of sidewalk tag for shared spaces.</p>
</div>
<div class="section level3">
<h3 id="footpaths">Footpaths<a class="anchor" aria-label="anchor" href="#footpaths"></a>
</h3>
<p><em>Inclusive Mobility</em>:</p>
<ul>
<li>Any other right of way and not adjacent to roads;</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>Highway = path: This tag is used for paths for which all and any of highway=footway, highway=cycleway and highway=bridleway would be inappropriate or inadequate.</li>
<li>UK tagging scheme implies that highway values of footways, cycleways, and bridleways are foot = designated —&gt; <a href="https://wiki.openstreetmap.org/wiki/Classic_vs_Alternative_tagging_schemes_in_use_in_the_United_Kingdom" class="external-link uri">https://wiki.openstreetmap.org/wiki/Classic_vs_Alternative_tagging_schemes_in_use_in_the_United_Kingdom</a>
</li>
</ul>
<p><em>So</em>, footpaths should be all the paths that are not footways.</p>
</div>
<div class="section level3">
<h3 id="implied-footways">Implied footways<a class="anchor" aria-label="anchor" href="#implied-footways"></a>
</h3>
<p>Sidewalk can be considered a negative tag because it is implied that roads have sidewalks. Yet, given that it is not explicitly mapped so, there is an assumption that might not always be correct. For this reason, a separate column was created to account for that and indicate which highways might have sidewalks but the user, in the end, can make a decision based on the need.</p>
</div>
<div class="section level3">
<h3 id="crossings">Crossings<a class="anchor" aria-label="anchor" href="#crossings"></a>
</h3>
<p><em>Inclusive Mobility</em>:</p>
<ul>
<li>refers to Traffic Signs Manual</li>
<li>highlights give-way and signal controlled crossings</li>
<li>notes that the key qualities of a crossing are safety, convenience, and accessibility —&gt; it must improve all of them to some extent</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>Can be mapped as nodes with highway=crossing (sidewalks part of the road)
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Tag:highway%3Dcrossing" class="external-link uri">https://wiki.openstreetmap.org/wiki/Tag:highway%3Dcrossing</a></li>
</ul>
</li>
<li>Can be linestrings with footway = crossing (sidewalks mapped as separate from the road) - <a href="https://wiki.openstreetmap.org/wiki/Tag:footway%3Dcrossing" class="external-link uri">https://wiki.openstreetmap.org/wiki/Tag:footway%3Dcrossing</a>
</li>
<li>Mapping techniques depend on how the sidewalk was mapped (part of the road or not)</li>
</ul>
<p>OSM allows to specify the type of a crossing, yet the three approved tags are traffic_lights, uncontrolled, or none. Given this, OSM was recategorized based on the broad categorization of crossings in the IM guide. If the type of a crossing is unknown but it’s mapped as present, “yes” value was used, if it is explicitly known that there is no crossing, then “no” value is present.</p>
</div>
<div class="section level3">
<h3 id="tactile-paving">Tactile paving<a class="anchor" aria-label="anchor" href="#tactile-paving"></a>
</h3>
<p><em>Inclusive Mobility</em>:</p>
<ul>
<li>outlines 6 different tactile paving surfaces</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>tactile_paving:
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Key:tactile_paving" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:tactile_paving</a></li>
</ul>
</li>
<li>additional proposal:
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Talk:Proposed_features/Tactile_paving" class="external-link uri">https://wiki.openstreetmap.org/wiki/Talk:Proposed_features/Tactile_paving</a></li>
</ul>
</li>
<li>No default value (i.e. existence is not implied)</li>
</ul>
<p><em>So</em>, OSM does not seem to support the categorization of tactile paving as outlines in the IM guide. For this reason simplified approach was taken in which only the presence or absence of tactile paving is determined.</p>
</div>
<div class="section level3">
<h3 id="surface">Surface<a class="anchor" aria-label="anchor" href="#surface"></a>
</h3>
<p><em>Inclusive Mobility</em>:</p>
<ul>
<li>Should be: even, firm, and slip-resistant —&gt; There are requirements for the joint width (i.e., cobbles unlikely to be suitable)</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>surface:
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Key:surface" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:surface</a></li>
</ul>
</li>
<li>Two main groups: —&gt; Paved and Unpaved</li>
</ul>
<p><em>So</em>, it is hard to determine if a given surface matches the requirements of IM guide, especially if it’s slip-resistant. For this reason, a simple recategorization was used to only indicate if the surface is even. A basic assumption is that all surfaces, except asphalt and concrete, are not unless they have an excellent or good smoothness level tagged.</p>
</div>
<div class="section level3">
<h3 id="lighting">Lighting<a class="anchor" aria-label="anchor" href="#lighting"></a>
</h3>
<p><em>Inclusive Mobolity</em>:</p>
<ul>
<li>lighting might increase a sense of security, improve the ability to read signs, and navigate the space in general.</li>
<li>it is important for both people with and without disabilities</li>
<li>different illumination levels for different spaces</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>Key:lit
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Key:lit" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:lit</a></li>
</ul>
</li>
<li>Highway=street_lamp
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Tag:highway%3Dstreet_lamp#Special_tagging_used_in_D.C3.BCsseldorf_for_gas_lamps" class="external-link uri">https://wiki.openstreetmap.org/wiki/Tag:highway%3Dstreet_lamp#Special_tagging_used_in_D.C3.BCsseldorf_for_gas_lamps</a></li>
<li>Point data</li>
</ul>
</li>
<li>Two different schemes seem to be present – either add lit as a highway attribute or as an element of its own. Overlaps are present, hence this should be handled with care</li>
</ul>
<p><em>So</em>, OSM does not seem to provide an ability to tag illumination levels. Given that, a simple present/absent recategorization has been done. To account for potential overlaps between different tagging schemes, only key:lit has been used. However, for a more in-depth examination of lighting, both approaches should, ideally, be taken into consideration.</p>
<p>Note: if you want to include <code>highway=street_lamp</code> in your analysis, you will have to download point data by specifying this in the query before downloading the data.</p>
</div>
<div class="section level3">
<h3 id="speed">Speed<a class="anchor" aria-label="anchor" href="#speed"></a>
</h3>
<p><em>Inclusive Mobility</em>:</p>
<ul>
<li>does not explicitly outline (max) speed requirements</li>
<li>note that vehicle speed (and volume) have impact on pedestrian’s ability to cross a street given that there are no traffic-control mechanisms</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>key:maxspeed
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Key:maxspeed" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:maxspeed</a></li>
</ul>
</li>
</ul>
<p><em>So</em>, the speed was categorized into 4 groups: 1 to 20, 21 to 40, and 41 to 60, and over 60 mph. The main focus here might be on the roads with up to 20 mph speed limit as it has a positive effect on increasing active modes of travel.</p>
</div>
<div class="section level3">
<h3 id="kerb">Kerb<a class="anchor" aria-label="anchor" href="#kerb"></a>
</h3>
<p><em>Inclusive Mobility</em>:</p>
<ul>
<li>dropped flush kerbs are essential for wheelchair users</li>
<li>flush kerbs should be used with tactile paving</li>
<li>dropped kerbs should be flush with the road with a maximum of 6mm tolerance (or a rounded bullnose is provided at the change of level)</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>key:kerb
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Key:kerb" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:kerb</a></li>
</ul>
</li>
<li>different categorizations of kerbs depending on their height, e.g.:
<ul>
<li>flush ~ 0cm</li>
<li>lowered ~3cm</li>
<li>raised &gt;3cm</li>
</ul>
</li>
</ul>
<p><em>So</em>, while there is an implication in OSM tagging scheme that kerbs of ~ 3cm height are wheelchair-friendly, it is not a case in the IM guide. Therefore, only kerbs having values of ‘flush’ or ‘no’ have been categorized as “flush”.</p>
</div>
<div class="section level3">
<h3 id="width">Width<a class="anchor" aria-label="anchor" href="#width"></a>
</h3>
<p><em>Inclusive Mobility</em>:</p>
<ul>
<li>as wide as practicable</li>
<li>the width of 2m should be the minimum
<ul>
<li>absolute minimum of footway width should be 1.5m</li>
<li>if there is an obstruction (e.g., a tree) absolute minimum width can be 1m but the max length of this should not exceed 6m</li>
</ul>
</li>
</ul>
<p><em>OSM</em>:</p>
<ul>
<li>key:width
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Key:width" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:width</a></li>
</ul>
</li>
<li>key:est_width
<ul>
<li><a href="https://wiki.openstreetmap.org/wiki/Key:est_width" class="external-link uri">https://wiki.openstreetmap.org/wiki/Key:est_width</a></li>
</ul>
</li>
<li>default values are implied to be meters</li>
</ul>
<p><em>So</em>, the function recategorizes OSM data into 3 groups: width under 1.5 m, between 1.5 and 2m, and above 2 meters. The same is done for the key:est_width. It’s important to note that two new columns are returned – one for the estimated and another for the <em>actual</em> width. Finally, because of OSM tagging scheme, it is not always easy to differentiate (unless it is explicitly tagged) if the width refers to the carriageway, sidewalk, or include both. The function here does not provide this differentiation either, thus bear in mind that this column might be misleading. To avoid this, it is recommended to process the data further so only sidewalks and/or footways remain in the dataset as much as it is possible given the limitations of OSM.</p>
</div>
<div class="section level3">
<h3 id="notes">Notes:<a class="anchor" aria-label="anchor" href="#notes"></a>
</h3>
<ul>
<li>
<input type="checkbox" disabled checked>
im_footway_pot needs to be updated to exclude crossings</li>
<li>
<input type="checkbox" disabled checked>
is it possible to download both lines and points at the same time so I don’t have to join them?</li>
<li>[] addressing potential overlaps of crossings (see Park Lane - Westgate)</li>
<li>[] can illumination level be mapped?</li>
<li>
<input type="checkbox" disabled checked>
overlaps between points and lines (e.g., adding lit to a highway but then also highway = street_lamp)</li>
<li>
<input type="checkbox" disabled checked>
add key:smoothness</li>
<li>
<input type="checkbox" disabled checked>
add key:width</li>
<li>[] im_surface_paved looks bad to me</li>
<li>[CANCELLED] add warning if tags are missing</li>
<li>[CANCELLED] parsing warning</li>
<li>
<input type="checkbox" disabled checked>
should maxspeed be here? I don’t think it’s in the guide</li>
<li>[] accounting for mph/km in speed</li>
<li>[] note that not all OSM data is recategorized. E.g., key:smootheness is good as it is</li>
</ul>
<p>think about:</p>
<ul>
<li>measure of completeness</li>
<li>linking to social outcomes/phenomenon</li>
<li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Greta Timaite, Robin Lovelace.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
