<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Transport Infrastructure Data Packs • openinfra</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Transport Infrastructure Data Packs">
<meta property="og:description" content="openinfra">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">openinfra</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/openinfra.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/QGIS_OSM_Setup.html">Getting and using OSM data with GUI QGIS</a>
    </li>
    <li>
      <a href="../articles/data_packs.html">Transport Infrastructure Data Packs</a>
    </li>
    <li>
      <a href="../articles/getosm.html">Getting and using OSM data with the R package osmextract</a>
    </li>
    <li>
      <a href="../articles/im_get.html">Function and documentation for Inclusive Mobility guide (2021)</a>
    </li>
    <li>
      <a href="../articles/osm-python.html">Getting and using osm data in Python</a>
    </li>
    <li>
      <a href="../articles/package_networks.html">Network definitions (pre-defined networks) by OSM data package</a>
    </li>
    <li>
      <a href="../articles/regions.html">Transport regions in the UK</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/udsleeds/openinfra/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Transport Infrastructure Data Packs</h1>
                        <h4 data-toc-skip class="author">James Hulse</h4>
            
            <h4 data-toc-skip class="date">2022-06-27</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/udsleeds/openinfra/blob/HEAD/vignettes/data_packs.Rmd" class="external-link"><code>vignettes/data_packs.Rmd</code></a></small>
      <div class="hidden name"><code>data_packs.Rmd</code></div>

    </div>

    
    
<div class="section level3">
<h3 id="setup">Setup<a class="anchor" aria-label="anchor" href="#setup"></a>
</h3>
<p>Library install</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://r-spatial.github.io/sf/" class="external-link">sf</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r-tmap/tmap" class="external-link">tmap</a></span><span class="op">)</span></span>
<span><span class="co">#library(openinfra)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="data-packs">Data Packs<a class="anchor" aria-label="anchor" href="#data-packs"></a>
</h3>
<p>This vignette covers the transport infrastructure data packs. <br><br> Below we can see the <code>recode_road_class</code> function. This function takes a SimpleFeatures (<a href="https://r-spatial.github.io/sf/index.html" class="external-link">sf</a>) osm infrastructure network and re-classifies features based on road classifications specified by <a href="https://www.nature.com/articles/s41598-019-55669-8" class="external-link">Chan and Cooper</a> in the following <a href="https://www.nature.com/articles/s41598-019-55669-8/tables/6" class="external-link">table</a>. <br><br><a href="https://www.nature.com/articles/s41598-019-55669-8" class="external-link">Chan and Cooper’s</a> work, <em>“Using road class as a replacement for predicted motorized traffic flow in spatial network models of cycling”</em>. <br><br> Cycling models require the simulation of motorised traffic in order to simulate motorised traffic movement to be considered in cycling models for route planning (cyclists won’t enjoy being on a busy road full of traffic!). <br><br> To model a given area for cycling, simulated motorised traffic must be modelled for a circular area (∝r<sup>2</sup>) 20x that of the cyclists, as zonal Origin Destination (OD) data is used for the entire car trip (typical car journey range ~30km to a cyclists ~7km). <br><br> Accurately modelling motor traffic for such a larger area requires much more data, time, and money than that required to model for cyclists, this becomes even more of an issue when comparing budgets for cyclist modelling and motorised traffic modelling. <br><br><a href="https://www.nature.com/articles/s41598-019-55669-8" class="external-link">Work</a> by Chan and Cooper propose estimating road traffic based on road classes, as defined in the table above, negating the requirement for the costly and time consuming modelling of motorised traffic.</p>
<div class="section level4">
<h4 id="function-recode_road_class">Function: <code>recode_road_class</code><a class="anchor" aria-label="anchor" href="#function-recode_road_class"></a>
</h4>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Define recode_road_class function</span></span>
<span><span class="va">recode_road_class</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">osm_sf</span><span class="op">)</span> <span class="op">{</span></span>
<span>  </span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://dplyr.tidyverse.org" class="external-link">"dplyr"</a></span><span class="op">)</span></span>
<span>  <span class="co">#_Function_Code_________________________________</span></span>
<span>  <span class="va">osm_recat</span> <span class="op">=</span> <span class="va">osm_sf</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="co"># Creates road_class column</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>road_class <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="co"># (7) - Motorways</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"motorway"</span>, <span class="st">"motorway_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"7"</span>,</span>
<span>      <span class="co"># (6/5) - Dual Carriageways resi &amp; non-resi</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"trunk"</span>, <span class="st">"trunk_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"6/5"</span>,</span>
<span>      <span class="co"># (4) - Primary Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"primary"</span>, <span class="st">"primary_link"</span><span class="op">)</span> <span class="op">|</span> <span class="op">(</span><span class="va">highway</span> <span class="op">==</span> <span class="st">"trunk"</span> <span class="op">&amp;</span> <span class="va">oneway</span> <span class="op">==</span> <span class="st">"F"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"4"</span>,</span>
<span>      <span class="co"># (3) - Secondary Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"secondary"</span>, <span class="st">"secondary_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"3"</span>,</span>
<span>      <span class="co"># (2) - Tertiary Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tertiary"</span>, <span class="st">"tertiary_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"2"</span>,</span>
<span>      <span class="co"># (1) - Local Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"living_street"</span>, <span class="st">"residential"</span>, <span class="st">"unclassified"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"1"</span>,</span>
<span>      <span class="co"># (0) - Traffic-free Paths</span></span>
<span>      <span class="va">highway</span> <span class="op">==</span> <span class="st">"cycleway"</span> <span class="op">~</span> <span class="st">"0"</span></span>
<span>    <span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    </span>
<span>    <span class="co"># Creates road_description columns</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>road_desc <span class="op">=</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="co"># (7) - Motorways</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"motorway"</span>, <span class="st">"motorway_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Motorways"</span>,</span>
<span>      <span class="co"># (6/5) - Dual Carriageways resi &amp; non-resi</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"trunk"</span>, <span class="st">"trunk_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Dual Carriageways (R&amp;NR)"</span>,</span>
<span>      <span class="co"># (4) - Primary Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"primary"</span>, <span class="st">"primary_link"</span><span class="op">)</span> <span class="op">|</span> <span class="op">(</span><span class="va">highway</span> <span class="op">==</span> <span class="st">"trunk"</span> <span class="op">&amp;</span> <span class="va">oneway</span> <span class="op">==</span> <span class="st">"F"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Primary Roads"</span>,</span>
<span>      <span class="co"># (3) - Secondary Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"secondary"</span>, <span class="st">"secondary_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Secondary Roads"</span>,</span>
<span>      <span class="co"># (2) - Tertiary Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"tertiary"</span>, <span class="st">"tertiary_link"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Tertiary Roads"</span>,</span>
<span>      <span class="co"># (1) - Local Roads</span></span>
<span>      <span class="va">highway</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"living_street"</span>, <span class="st">"residential"</span>, <span class="st">"unclassified"</span><span class="op">)</span> <span class="op">~</span> <span class="st">"Residential / Local Roads"</span>,</span>
<span>      <span class="co"># (0) - Traffic-free Paths</span></span>
<span>      <span class="va">highway</span> <span class="op">==</span> <span class="st">"cycleway"</span> <span class="op">~</span> <span class="st">"Cycleway"</span></span>
<span>    <span class="op">)</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>    <span class="co"># Removes features that have not been recodeed to a road_class value</span></span>
<span>    <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">road_class</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p><br><br></p>
<p>As discussed, the above function was defined defined based on the following table from Chan and Cooper:</p>
<table class="table">
<colgroup>
<col width="33%">
<col width="33%">
<col width="33%">
</colgroup>
<thead><tr class="header">
<th>Road Class</th>
<th>Description</th>
<th>Selection from OSM</th>
</tr></thead>
<tbody>
<tr class="odd">
<td>7</td>
<td>Motorways</td>
<td>highway = motorway OR highway = motorway_link</td>
</tr>
<tr class="even">
<td>6</td>
<td>Non-residential Dual Carriageways</td>
<td>highway =  trunk OR highway = trunk_link*manual classification needed</td>
</tr>
<tr class="odd">
<td>5</td>
<td>Residential Dual Carriageways</td>
<td>highway =  trunk OR highway =  trunk_link*manual classification needed</td>
</tr>
<tr class="even">
<td>4</td>
<td>Primary Roads</td>
<td>highway =  primary OR highway =  primary_link OR (highway =  trunk AND oneway = F)</td>
</tr>
<tr class="odd">
<td>3</td>
<td>Secondary Roads</td>
<td>highway =  secondary OR highway =  secondary_link</td>
</tr>
<tr class="even">
<td>2</td>
<td>Tertiary Roads</td>
<td>highway = tertiary OR highway = tertiary_link</td>
</tr>
<tr class="odd">
<td>1</td>
<td>Local Roads</td>
<td>highway = living_street OR highway = residential OR highway = unclassified</td>
</tr>
<tr class="even">
<td>0</td>
<td>Traffic-free Paths</td>
<td>highway = cycleway</td>
</tr>
</tbody>
</table>
<p><br><br></p>
</div>
</div>
<div class="section level3">
<h3 id="an-example">An Example<a class="anchor" aria-label="anchor" href="#an-example"></a>
</h3>
<p>Here we visualise an output from <code>recode_road_class</code> using OSM data extracted using the <a href="https://github.com/ropensci/osmextract" class="external-link"><code>osmextract</code></a> package for R using the <code>oe_get()</code> command, shown below. <br><br> This example concerns a 5km circular radius about the city centre of Leeds, UK, with Long, Lat coords (-1.548567, 53.801277). <br><br></p>
<div class="section level4">
<h4 id="getting-data">Getting Data<a class="anchor" aria-label="anchor" href="#getting-data"></a>
</h4>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Data downloaded through osmextract as shown below: </span></span>
<span></span>
<span><span class="co">#total_place = osmextract::oe_get(</span></span>
<span><span class="co">#  place = "Leeds",</span></span>
<span><span class="co">#  provider = "bbbike",</span></span>
<span><span class="co">#  layer = "lines",</span></span>
<span><span class="co">#  never_skip_vectortranslate = TRUE,</span></span>
<span><span class="co">#  force_download = TRUE,</span></span>
<span><span class="co">#  quiet = FALSE,</span></span>
<span><span class="co">#  extra_tags = c("access", "service", "foot", "bicycle" "oneway") # Add in "oneway" for recode_road_class function</span></span>
<span><span class="co">#)</span></span>
<span></span>
<span><span class="co"># For reproduciblity you may chose to use the example dataset from our releases.</span></span>
<span><span class="co"># You can create your own data using the oe_get() function above.</span></span>
<span> <span class="va">total_place</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_read.html" class="external-link">read_sf</a></span><span class="op">(</span><span class="st">"https://github.com/udsleeds/openinfra/releases/download/v0.2/bbbike_leeds_27_6_22.geojson"</span><span class="op">)</span></span></code></pre></div>
<p><br><br></p>
</div>
<div class="section level4">
<h4 id="set-up-circular-buffer">Set Up Circular Buffer<a class="anchor" aria-label="anchor" href="#set-up-circular-buffer"></a>
</h4>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Setting up the circular buffer around specified (long, lat) coord</span></span>
<span><span class="va">crs</span> <span class="op">=</span> <span class="st">"WGS84"</span></span>
<span></span>
<span><span class="co"># (Long, Lat) coords of desired place (Leeds City Centre)</span></span>
<span><span class="va">place_point</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">1.548567</span>, <span class="fl">53.801277</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Desired (m) radius around desired point</span></span>
<span><span class="va">radius</span> <span class="op">=</span> <span class="fl">5000</span> <span class="co">#(5km)</span></span>
<span></span>
<span><span class="co"># Converts point coord into a sf object (so we can use st_buffer)</span></span>
<span><span class="va">point_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html" class="external-link">data.frame</a></span><span class="op">(</span>place<span class="op">=</span><span class="op">(</span><span class="st">"Location"</span><span class="op">)</span>, lon<span class="op">=</span><span class="op">(</span><span class="va">place_point</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span>, lat<span class="op">=</span><span class="op">(</span><span class="va">place_point</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">point_sf</span> <span class="op">=</span> <span class="fu"><a href="https://r-spatial.github.io/sf/reference/st_as_sf.html" class="external-link">st_as_sf</a></span><span class="op">(</span><span class="va">point_table</span>, coords<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"lon"</span>, <span class="st">"lat"</span><span class="op">)</span>, crs<span class="op">=</span><span class="va">crs</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Define the circle buffer around our desired location</span></span>
<span><span class="va">circle_buffer</span> <span class="op">=</span> <span class="fu">sf</span><span class="fu">::</span><span class="fu"><a href="https://r-spatial.github.io/sf/reference/geos_unary.html" class="external-link">st_buffer</a></span><span class="op">(</span><span class="va">point_sf</span>, dist <span class="op">=</span> <span class="va">radius</span><span class="op">)</span></span></code></pre></div>
<p><br><br></p>
</div>
<div class="section level4">
<h4 id="applying-recode_road_class-circular-buffer-zone">Applying <code>recode_road_class</code> &amp; Circular Buffer Zone<a class="anchor" aria-label="anchor" href="#applying-recode_road_class-circular-buffer-zone"></a>
</h4>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">road_class_recode</span> <span class="op">=</span> <span class="fu"><a href="../reference/recode_road_class.html">recode_road_class</a></span><span class="op">(</span><span class="va">total_place</span><span class="op">)</span></span>
<span></span>
<span><span class="va">place_subset</span><span class="op">=</span> <span class="va">road_class_recode</span><span class="op">[</span><span class="va">circle_buffer</span>, <span class="op">]</span></span></code></pre></div>
<p><br><br></p>
</div>
<div class="section level4">
<h4 id="default-osm-highways">Default OSM Highways<a class="anchor" aria-label="anchor" href="#default-osm-highways"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/5km_Leeds_OSM_highways.html" width="100%" height="650px" data-external="1">
</iframe>
<p><br><br></p>
</div>
<div class="section level4">
<h4 id="road-description-visualisation">Road Description Visualisation<a class="anchor" aria-label="anchor" href="#road-description-visualisation"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/LCC_recode_road_class_example_output.html" width="100%" height="650px" data-external="1">
</iframe>
<p>As can be seen - the OSM highways re-categorised to road descriptions are much easier to visualise and insightful than all OSM highawy values. <br><br></p>
</div>
<div class="section level4">
<h4 id="clean-maxspeed-visualisation">Clean maxspeed visualisation<a class="anchor" aria-label="anchor" href="#clean-maxspeed-visualisation"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/5mk_Leeds_cleaned_maxspeed.html" width="100%" height="650px" data-external="1">
</iframe>
</div>
</div>
<div class="section level2">
<h2 id="current-data-pack-example">Current Data Pack Example<a class="anchor" aria-label="anchor" href="#current-data-pack-example"></a>
</h2>
<p>A current exmaple data pack for “Leeds” - contains outputs: - Active cycle network - Active walking network - Presence of lighting network - Cleaned maximum speed values - Cleaned road descriptions - Inclusive Mobility (unfortunately not mapped here due to filesize)</p>
<div class="section level4">
<h4 id="default-network">Default Network<a class="anchor" aria-label="anchor" href="#default-network"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/5km_Leeds_OSM_highways.html" width="100%" height="650px" data-external="1">
</iframe>
</div>
<div class="section level4">
<h4 id="oi-active-cycle">oi active cycle<a class="anchor" aria-label="anchor" href="#oi-active-cycle"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/cycle_map.html" width="100%" height="650px" data-external="1">
</iframe>
</div>
<div class="section level4">
<h4 id="oi-active-walk">oi active walk<a class="anchor" aria-label="anchor" href="#oi-active-walk"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/walk_map.html" width="100%" height="650px" data-external="1">
</iframe>
</div>
<div class="section level4">
<h4 id="oi-is-lit">oi is lit<a class="anchor" aria-label="anchor" href="#oi-is-lit"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/is_lit_map.html" width="100%" height="650px" data-external="1">
</iframe>
</div>
<div class="section level4">
<h4 id="oi-maxspeed">oi maxspeed<a class="anchor" aria-label="anchor" href="#oi-maxspeed"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/maxspeed_map.html" width="100%" height="650px" data-external="1">
</iframe>
</div>
<div class="section level4">
<h4 id="recode-road">recode road<a class="anchor" aria-label="anchor" href="#recode-road"></a>
</h4>
<iframe src="https://udsleeds.github.io/openinfraresults/tmap/assets/road_desc_map.html" width="100%" height="650px" data-external="1">
</iframe>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Greta Timaite, Robin Lovelace.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
